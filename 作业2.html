<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      .container {
        width: 650px;
        margin: 10px auto;
        border: 1px solid skyblue;
        background-color: lightgrey;
      }
      input[type="button"]:hover {
        background-color: burlywood;
      }
      .result {
        margin-top: 20px;
        color: black;
      }
      .error {
        color: red;
      }
      .success {
        color: green;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <label>邮箱：<input type="text" id="email" /></label><br />
      <label>密码：<input type="password" id="password" /></label>
      <input type="button" onclick="Landing()" value="登录" />
      <div id="message" class="result"></div>
      <div id="successInto" class="result"></div>
    </div>
    <script>
      let msg = [
        {
          name: "张三",
          age: 20,
          strengths: "JavaScript",
          avatar:
            "https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1",
          email: "yunding@qq.com",
          password: "33333",
        },
        {
          name: "李四",
          age: 19,
          strengths: "python",
          avatar:
            "https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1",
          email: "12345678@163.com",
          password: "11111",
        },
        {
          name: "王五",
          age: 18,
          strengths: "Java",
          avatar:
            "https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1",
          email: "yundingshuyuan@qq.cn",
          password: "222222",
        },
      ];
      function Landing() {
        let regex = /^[a-zA-Z0-9_.-]+@(qq|163)\.(com|cn)$/;
        let Email = document.getElementById("email").value;
        let Password = document.getElementById("password").value;
        let messageElement = document.getElementById("message");
        let userMessage = document.getElementById("successInto");
        let a = false;
        let b = false;
        messageElement.textContent = "";
        userMessage.innerHTML = "";
        if (!regex.test(Email)) {
          messageElement.textContent = "邮箱格式错误，请重新输入";
          messageElement.className = "error";
          return;
        }
        for (let i = 0; i < msg.length; i++) {
          if (msg[i].email === Email) {
            a = true;
            if (msg[i].password === Password) {
              b = true;
              showUserMessage(msg[i]);
              break;
            }
          }
        }
        if (b) {
          messageElement.textContent = "登录成功！";
          messageElement.className = "success";
        } else if (a) {
          messageElement.textContent = "密码错误！";
          messageElement.className = "error";
        } else {
          messageElement.textContent = "邮箱错误！";
          messageElement.className = "error";
        }
      }
      function showUserMessage(user) {
        let userMessage = document.getElementById("successInto");
        userMessage.innerHTML = `
                <p><strong>姓名：</strong>${user.name}</p>
                <p><strong>年龄：</strong>${user.age}</p>
                <p><strong>擅长技能：</strong>${user.strengths}</p>
                <p><strong>头像：<strong><img src="${user.avatar}" alt="头像" style="width:50px height:auto;"></p>
            `;
      }
    </script>
  </body>
</html>
